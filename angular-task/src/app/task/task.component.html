<!-- progress bar untill data is loading -->
<div *ngIf="loading | async">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>

<div class="container-fluid">
    <!-- pagination for the breweries -->
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center pt-4">
            <li class="page-item" [ngClass]="{disabled: query.page <= 1}">
                <a class="page-link" tabindex="-1" (click)="prevPageChange()" role="button">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" (click)="pageChange(1)" role="button">1</a></li>
            <li class="page-item"><a class="page-link" (click)="pageChange(2)" role="button">2</a></li>
            <li class="page-item"><a class="page-link" (click)="pageChange(3)" role="button">3</a></li>
            <li class="page-item">
                <a class="page-link" (click)="nextPageChange()" role="button">Next</a>
            </li>
        </ul>
    </nav>

    <!-- table for listing the data -->
    <div class="table-responsive">
        <table class="table align-middle table-striped table-hover table-bordered caption-top">
            <caption>List of Brewery</caption>
            <!-- table header -->
            <thead class="table-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">name
                        <input matInput type="text" [(ngModel)]="searchingName" (keyup)="searchName()"
                            class="form-control" placeholder="Type">
                    </th>
                    <th scope="col">brewery type
                        <input matInput type="text" [(ngModel)]="searchingBrewery" (keyup)="searchBrewery()"
                            class="form-control" placeholder="Type">
                    </th>
                    <th scope="col">street</th>
                    <th scope="col">address 2</th>
                    <th scope="col">address 3</th>
                    <th scope="col">city
                        <input matInput type="text" [(ngModel)]="searchingCity" (keyup)="searchCity()"
                            class="form-control" placeholder="Type">
                    </th>
                    <th scope="col">state
                        <input matInput type="text" [(ngModel)]="searchingstate" (keyup)="searchState()"
                            class="form-control" placeholder="Type">
                    </th>
                    <th scope="col">county province</th>
                    <th scope="col">postal code
                        <input matInput type="text" [(ngModel)]="searchingPostalCode" (keyup)="searchPostalCode()"
                            class="form-control" placeholder="Type">
                    </th>
                    <th scope="col">country</th>
                    <th scope="col">longitude</th>
                    <th scope="col">latitude</th>
                    <th scope="col">phone</th>
                    <th scope="col">website url</th>
                    <th scope="col">updated at</th>
                    <th scope="col">created at</th>
                </tr>
            </thead>
            <!-- table body -->
            <tbody>
                <tr *ngIf="!breweries?.length">
                    <td colspan="17" class="text-center">
                        <span class="text-danger text-uppercase">no data</span>
                    </td>
                </tr>
                <!-- listing the brewerie data -->
                <tr *ngFor="let brewerie of breweries">
                    <th scope="row">{{brewerie?.id}}</th>
                    <td>{{brewerie?.name}}</td>
                    <td>{{brewerie?.brewery_type}}</td>
                    <td>{{brewerie?.street}}</td>
                    <td>{{brewerie?.address_2}}</td>
                    <td>{{brewerie?.address_3}}</td>
                    <td>{{brewerie?.city}}</td>
                    <td>{{brewerie?.state}}</td>
                    <td>{{brewerie?.county_province}}</td>
                    <td>{{brewerie?.postal_code}}</td>
                    <td>{{brewerie?.country}}</td>
                    <td>{{brewerie?.longitude}}</td>
                    <td>{{brewerie?.latitude}}</td>
                    <td>{{brewerie?.phone}}</td>
                    <td>{{brewerie?.website_url}}</td>
                    <td>{{brewerie?.updated_at}}</td>
                    <td>{{brewerie?.created_at}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>